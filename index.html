<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta 
  name="viewport" 
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>PlushMaster</title>
<link rel="icon" type="image/png" href="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
<link rel="stylesheet" href="plushmaster.css">
</head>
<body>

<div id="notificacoes"></div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script>
if (!firebase.apps.length) {
  firebase.initializeApp({
    apiKey: "AIzaSyApQ9KvXtv4_negpU9wHlajGeOuZ1FSKBA",
    authDomain: "plush-master.firebaseapp.com",
    projectId: "plush-master"
  });
}

const auth = firebase.auth();
const db = firebase.firestore();
</script>
<!-- INTRO -->
<div id="intro">
  <div class="ball"></div>
  <img class="intro-logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const logo  = document.querySelector(".intro-logo");
  const intro = document.getElementById("intro");
  const tela1 = document.getElementById("tela1");

  if (!logo || !intro || !tela1) return;

  logo.addEventListener("animationend", () => {

    setTimeout(() => {

      // remove a intro
      intro.remove();

      // ativa a Tela 1
      tela1.classList.add("base");
      tela1.style.pointerEvents = "auto";

      // ================= LOGIN AUTOM√ÅTICO VIA CONSOLE =================
      const emailSalvo = localStorage.getItem("loginEmail");
      const senhaSalva = localStorage.getItem("loginSenha");
      const usuarioSaiuSalvo = localStorage.getItem("usuarioSaiu");

      console.log("=== LOGIN AUTOM√ÅTICO ===");

      if (emailSalvo && senhaSalva && usuarioSaiuSalvo) {
        console.log("loginEmail:", emailSalvo);
        console.log("loginSenha:", senhaSalva);
        console.log("usuarioSaiu:", usuarioSaiuSalvo);
      } else {
        console.log("Digite os dados no console:");
        console.log("loginEmail = 'seu_email'");
        console.log("loginSenha = 'sua_senha'");
        console.log("usuarioSaiu = 'false'");
      }

      const loginCheck = setInterval(() => {
        if (
          (window.loginEmail && window.loginSenha && window.usuarioSaiu !== undefined) ||
          (emailSalvo && senhaSalva && usuarioSaiuSalvo)
        ) {
          clearInterval(loginCheck);

          const email = window.loginEmail || emailSalvo;
          const senha = window.loginSenha || senhaSalva;
          const usuarioSaiu = window.usuarioSaiu || usuarioSaiuSalvo;

          if (usuarioSaiu === "false") {
            auth.signInWithEmailAndPassword(email, senha)
              .then(() => {
                console.log("Login autom√°tico OK!");
                irPara("telaHome");
              })
              .catch(err => console.error("Erro login autom√°tico:", err));
          } else {
            console.log("Usu√°rio saiu da conta, n√£o logando automaticamente.");
          }
        }
      }, 500);

      // ===============================================================

    }, 2000); // ‚è± 2 segundos

  }, { once: true });

});
</script>

<!-- TELA 1 -->
<section id="tela1" class="tela base">
    <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
    <div class="card">
        <button class="btn" onclick="irPara('telacadastro/Login')">Vamos come√ßar</button>
    </div>
    <footer>¬© 2026 PlushMaster</footer>
</section>



<!-- LOGIN EMAIL -->
<section id="telacadastro/Login" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">

  <div class="card">
    <h2>Entre ou Cadastre-se</h2>

    <p class="subtitulo-email">Informe seu email para continuar</p>

    <div class="campo-form">
      <span class="label-email">E-mail</span>
      <input id="emailLogin" type="email" placeholder="email@email.com">
    </div>

    <button id="btnContinuar" class="btn" onclick="irParaUsuario(this)">
      <span class="btn-text">Continuar</span>
      <span class="btn-loader"></span>
    </button>
  </div>
</section>

        
    </div>
</section>

<!-- SENHA -->
<section id="telaSenha" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
<div class="btn-voltar" onclick="voltarPara('telacadastro/Login')">
  &lt;
</div>

  <div class="card">
    <h2>√â bom te ver novamente</h2>

    <p id="emailExibido" class="email-exibido"></p>

    <div class="campo-form">
      <span class="label-email">Informe sua senha</span>
      <input id="senha" type="password" placeholder="Senha">
    </div>

    <div class="esqueceu-senha" onclick="redefinirSenha()">
      Esqueceu sua senha?
    </div>

    <button id="btnEntrar" class="btn" onclick="entrar()">
      <span class="btn-text">Entrar</span>
      <span class="btn-loader"></span>
    </button>

    
  </div>
</section>

<!-- TELA CPF -->
<section id="telaCPF" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
  <div class="btn-voltar" onclick="voltarPara('telacadastro/Login')">
  &lt;
  </div>

  <div class="card">
    <h2 class="titulo-principal">Informe seu CPF</h2>
    <p class="subtitulo-email">Precisamos confirmar sua identidade</p>

    <span class="label-email">CPF</span>
    <input
      type="text"
      id="cpf"
      placeholder="000.000.000-00"
      maxlength="14"
      oninput="mascaraCPF(this)"
    >

    <button class="btn" onclick="continuarCPF(this)">
      <span class="btn-text">Continuar</span>
      <span class="btn-loader"></span>
    </button>
  </div>
</section>

<!-- TELA NASCIMENTO -->
<section id="telaNascimento" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">
<div class="btn-voltar" onclick="voltarPara('telaCPF')">
  &lt;
</div>
  <div class="card">
    <h2 class="titulo-principal">Data de nascimento</h2>
    <p class="subtitulo-email">Confirme que voc√™ √© maior de 18 anos</p>

    <span class="label-email">Data de nascimento</span>
    <input
      type="date"
      id="dataNascimento"
    >

    <button class="btn" onclick="continuarNascimento(this)">
      <span class="btn-text">Continuar</span>
      <span class="btn-loader"></span>
    </button>
  </div>
</section>


<!-- TELA USU√ÅRIO -->
<section id="telaCadastroUsuario" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">

  <!-- BOT√ÉO VOLTAR -->
  <div class="btn-voltar" onclick="voltarPara('telaNascimento')">
    &lt;
  </div>

  <div class="card">
    <h2>Nome de Usu√°rio</h2>

    <p class="subtitulo-email">escolha um nome de usu√°rio</p>

    <!-- AQUI usa o mesmo espa√ßamento -->
    <div class="campo-form">
      <span class="label-email">Crie um nome de usu√°rio</span>
      <input
        type="text"
        id="usernameCadastro"
        placeholder="Crie um nome de usu√°rio"
      >
    </div>

    <button class="btn" onclick="irParaSenha(this)">
      <span class="btn-text">Continuar</span>
      <span class="btn-loader"></span>
    </button>
  </div>
</section>



        
    </div>
</section>


<!-- TELA SENHA -->
<section id="telaCadastroSenha" class="tela">
  <img class="logo" src="https://i.postimg.cc/pXQ9MCLx/plush-master-logo-removebg-preview.png">

  <!-- BOT√ÉO VOLTAR -->
  <div class="btn-voltar" onclick="voltarPara('telaCadastroUsuario')">
    &lt;
  </div>

  <!-- CARD -->
  <div class="card">
    <h2>Crie uma senha</h2>

    <p class="subtitulo-email">Crie uma senha para sua conta</p>

    <!-- CAMPO SENHA -->
    <div class="campo-form">
      <span class="label-email">Digite uma senha</span>
      <input
        type="password"
        id="senha1"
        placeholder="Digite a senha"
      >
    </div>

    <!-- CAMPO CONFIRMAR SENHA -->
    <div class="campo-form">
      <span class="label-email">Confirme a senha</span>
      <input
        type="password"
        id="senha2"
        placeholder="Digite novamente"
      >
    </div>

    <button class="btn" onclick="finalizarCadastro(this)">
      <span class="btn-text">Criar conta</span>
      <span class="btn-loader"></span>
    </button>
  </div>
</section>

        
    </div>
</section>
<section id="telaConta" class="tela">

  <div class="topo">
    <div class="botao-voltar" onclick="irSemAnimacao('telaHome')">
      &lt;
    </div>

    <div class="logo">PlushMaster</div>
  </div>

    <div class="info-area">
        <div>
            <div class="titulo">Minha conta</div>
            <div class="subtitulo" id="textoOla">Ol√°, ...</div>
        </div>

        <div class="avatar" id="avatarLetra">U</div>
    </div>

    <div class="cards">
        <div class="card" onclick="irPara('telaHistorico')">
            <h3>üìä Hist√≥rico de atividades</h3>
        </div>

        <div class="card" onclick="irPara('telaInformacoes')">
    <h3>üìò Minhas informa√ß√µes</h3>
</div>

    </div>

    <div class="sair" onclick="sairConta()">
        <span>‚Ü∫</span> Sair da conta
    </div>

</section>
<section id="telaInformacoes" class="tela">

    <!-- TOPO -->
    <div class="topo">
  <div class="voltar" onclick="voltarPara('telaConta')">
    &lt;
  </div>

  <div class="logo">PlushMaster</div>
</div>

<div class="titulo">Minhas informa√ß√µes</div>

    <div class="box">
        <p><span class="label">Apelido:</span>
            <span class="valor" id="campoNome">Carregando...</span>
        </p>

        <p><span class="label">E-mail:</span>
            <span class="valor" id="campoEmail">Carregando...</span>
        </p>

        <p><span class="label">Senha:</span> ***************</p>
    </div>

    <div class="link" onclick="alterarNome()">Alterar apelido</div>
    <div class="link" onclick="alterarSenha()">Alterar senha</div>
    <div class="excluir" onclick="excluirConta()">Excluir conta</div>

    <!-- POPUP ALTERAR NOME -->
    <div class="popup-bg" id="popupNome">
        <div class="popup-box">
            <h3>Alterar apelido</h3>
            <input type="text" id="novoNome" class="popup-input" placeholder="Digite o novo nome">
            <button class="popup-btn" onclick="salvarNovoNome()">Salvar</button>
            <div class="cancelar" onclick="fecharPopup()">Cancelar</div>
        </div>
    </div>

    <!-- POPUP EXCLUIR CONTA -->
    <div id="popupExcluir" class="popup-fundo" style="display:none;">
        <div class="popup-caixa">
            <div class="popup-titulo">Excluir Conta</div>
            <p class="popup-texto">Digite sua senha para confirmar:</p>

            <input type="password" id="senhaExcluir" class="popup-input" placeholder="Sua senha">

            <div class="popup-botoes">
                <button class="btn-cancelar" onclick="fecharPopupExcluir()">Cancelar</button>
                <button class="btn-confirmar" onclick="confirmarExclusao()">Excluir</button>
            </div>
        </div>
    </div>

</section>





<!-- ================= HOME ================= -->

<section id="telaHome" class="tela">
  
<div class="top-bar">

    <div style="width:36px;"></div> <!-- espa√ßo fake s√≥ para equilibrar -->

    <div class="logo">PlushMaster</div>

    <div class="btn-chat" onclick="abrirChat()">
        <span class="chat-icon"></span>
        <span id="badgeChat" class="badge-chat"></span>
    </div>

</div>

    
    <!-- C√ÇMERA -->
    <div class="camera-box">
        <iframe src="https://delaysp01.logicahost.com.br:5443/onlinemachine/play.html?id=onlinemachine0"
        allow="autoplay; fullscreen"></iframe>
    </div>

    <!-- BOT√ÉO JOGAR -->
    <div class="play-area">
         <button class="play-btn" onclick="abrirTelaSelecionar('telaselecionar')"style="border:none; outline:none;">JOGAR</button>
    </div>

  
    <!-- MENU INFERIOR -->
    <div class="bottom-bar">
        <div class="nav-item" onclick="irSemAnimacao('telaHome')">
            <div class="nav-circle">üè†</div>
            Home
        </div>
        <div class="nav-item" onclick="irSemAnimacao('telaCarteira')">
            <div class="nav-circle">üí∞</div>
            Carteira
        </div>
        <div class="nav-item" onclick="irSemAnimacao('telaConta')">
            <div class="nav-circle">üë§</div>
            Conta
        </div>
        <div class="nav-item" onclick="irSemAnimacao('telaPelucias')">
            <div class="nav-circle">üß∏</div>
            Pel√∫cias
        </div>
    </div>
</section>
<!-- ================= CARTEIRA ================= -->
<section id="telaCarteira" class="tela">

  <div class="carteira-topo">
    <div class="carteira-linha">
      <div class="carteira-voltar" onclick="irSemAnimacao('telaHome')">
        &lt;
      </div>

      <div class="carteira-logo">PlushMaster</div>
      <div class="carteira-perfil" id="letraPerfil">U</div>
    </div>

    <div class="carteira-titulo">Carteira</div>
    <div class="carteira-sub" id="nomeUser">Ol√°, ...</div>
  </div>

  <div class="carteira-sessao">
    <div class="saldo-titulo">üí≤ Saldo na carteira</div>

    <div class="saldo-box">
      <div class="saldo-valor" id="saldoCarteira">R$ 0,00</div>
      <div class="pelucias" id="peluciasCarteira">0 pel√∫cias acumuladas</div>
    </div>
  </div>

  <div class="recarga">
    <h3>üí≥ Qual valor voc√™ quer adicionar?</h3>
    <div class="valor-box" id="valorSelecionado">R$ 0,00</div>
    <div class="cupom">Tenho um cupom</div>
  </div>

  <button class="carteira-btn" onclick="pagar()">Prosseguir para o pagamento</button>

</section>



<section id="telaSelecionar" class="tela">

  <div class="sel-topo">
    <div class="sel-voltar" onclick="voltarPara('telaHome')">
      &lt;
    </div>
    <div class="sel-logo">PlushMaster</div>
  </div>

<div class="sel-jogadas">
  <div class="sel-jogadas-texto">üòä Selecionar jogadas</div>

  <div class="sel-dropdown" onclick="toggleJogadas()">
    <span id="valorJogadas">00</span>
    <div class="sel-seta">‚ñº</div>
  </div>
</div>

<div class="sel-lista" id="listaJogadas">
  <!-- 1 at√© 30 -->
  <div onclick="selecionarJogada(1)">1</div>
  <div onclick="selecionarJogada(2)">2</div>
  <div onclick="selecionarJogada(3)">3</div>
  <div onclick="selecionarJogada(4)">4</div>
  <div onclick="selecionarJogada(5)">5</div>
  <div onclick="selecionarJogada(6)">6</div>
  <div onclick="selecionarJogada(7)">7</div>
  <div onclick="selecionarJogada(8)">8</div>
  <div onclick="selecionarJogada(9)">9</div>
  <div onclick="selecionarJogada(10)">10</div>
  <!-- ‚Ä¶ at√© 30 -->
</div>


  <div class="sel-titulo">üì± Selecionar m√°quina</div>

  <div id="loader" class="loader"></div>

  <div class="sel-maquinas">

    <div class="sel-card" onclick="clicarMaquina('plush')">
      <img src="https://i.postimg.cc/6345mtXp/maquina-de-2-imagem-removebg-preview.png">
      <div class="sel-preco">R$ 2,00 a jogada</div>
      <button class="sel-btn-status sel-disponivel" id="statusPlush">
        Selecionar
      </button>
    </div>

    <div class="sel-card" onclick="clicarMaquina('toy')">
      <img src="https://i.postimg.cc/59Pn3Jtg/toy-mix-imagem-removebg-preview.png">
      <div class="sel-preco">R$ 5,00 a jogada</div>
      <button class="sel-btn-status sel-disponivel" id="statusToy">
        Selecionar
      </button>
    </div>

  </div>

  <div class="sel-saldo">
  <span id="saldoUsuario">R$ 0,00</span>
</div>


  <div class="sel-btn-iniciar" onclick="iniciarJogo()">
    Entrar na fila
  </div>

</section>
<!-- TELA CHAT -->
<section id="telaChat" class="tela">

  <div class="topo">
    <div class="voltar" onclick="fecharParaBaixo('telaHome')">
      &lt;
    </div>

    <div class="logo">PlushMaster</div>
    <div class="perfil" id="perfil">U</div>
  </div>

  <div id="chat-messages" style="flex:1; padding:15px; overflow-y:auto;"></div>

  <div class="chat-input-container" style="display:flex; padding:10px; gap:10px; background:#4fc3ff;">
    <input type="text" id="chat-input" placeholder="Digite sua mensagem..." style="flex:1; padding:10px 15px; border-radius:50px; border:none; font-size:16px; background:#e0f7ff; color:#000;">
    <button id="send-btn" style="padding:10px 20px; border:none; border-radius:50px; background: linear-gradient(#24c6ff,#009ef7); color:white; cursor:pointer; font-size:16px;">Enviar</button>
  </div>
</section>

<script src="plushmaster.js"></script>
</body>
</html>